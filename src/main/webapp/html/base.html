<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">

	<meta name="author" content="Julie Chen">
	<meta name="description" content="Hack Productivity 3">

	<title>License Sharing</title>

	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/css/bootstrap.min.css" integrity="sha384-rwoIResjU2yc3z8GV/NPeZWAv56rSmLldC3R/AZzGRnGxQQKnKkoFVhFQhNUwEyJ" crossorigin="anonymous">
	<link rel="stylesheet" href="../css/flipclock.css">

	</head>
	<body>

	<div ng-app="licenseSharingApp" id="wrap">

		<div class="card">
			<h3 class="card-header">Instructions</h3>
			<div class="card-block">
				<p class="card-text">1) By clicking "Start Clock" button, it starts the Timer and assign the license.</p>
				<p class="card-text">2) Type in username = "tester@pwchen.onmicrosoft.com", password = "TesterHack3".</p>
				<h4 class="card-title">Once clock stops, you can no longer access the product.</h4>
				<h4 class="card-title">Save your work before the clock stops!</h4>
				<a href="#!licenseshare" class="btn btn-primary" ng-disabled="checked" id="startclock">Start Clock</a>
			</div>
		</div>

		<div ng-view></div>

	</div>

	<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.4.0/js/tether.min.js" integrity="sha384-DztdAPBWPRXSA/3eYEEUWrWCy7G5KFbe8fFjk5JAIxUYHKkDx6Qin1DkWx51bBrb" crossorigin="anonymous"></script>
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.6/js/bootstrap.min.js" integrity="sha384-vBWWzlZJ8ea9aCX4pEW3rVHjgjt7zpkNpZk+02D9phzyeVkE+jo0ieGizqPLForn" crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.5/angular.min.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.6.5/angular-route.min.js"></script>

	<!-- script src="https://secure.aadcdn.microsoftonline-p.com/lib/0.1.3/js/msal.min.js"></script -->
	<!-- script type="text/javascript" src="../scripts/msalconfig.js"></script -->

	<!-- IE support: add promises polyfill before msal.js  -->
	<!-- The 'bluebird' and 'fetch' references below are required if you need to run this application on Internet Explorer -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/bluebird/3.3.4/bluebird.min.js" class="pre"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/fetch/2.0.3/fetch.min.js"></script>

	<!-- script type="text/javascript" src="../scripts/app.js"></script -->

	<script src="../scripts/flipclock.js"></script>

	<script>
var app = angular.module("licenseSharingApp", ["ngRoute"]);
app.config(function($routeProvider) {
    $routeProvider
    .when("/licenseshare", {
        templateUrl : "LicenseShare.html",
        controller : "MainController"
    })
});

app.controller("MainController", ['$scope', '$rootScope', '$http', function(sc, rs, hp) {

  var req = {
     method: 'GET',
     url: 'https://graph.microsoft.com/v1.0/me/',
     headers: {
       'Content-Type': 'application/json',
       'Authorization': 'Bearer eyJ0eXAiOiJKV1QiLCJub25jZSI6IkFRQUJBQUFBQUFCSGg0a21TX2FLVDVYcmp6eFJBdEh6bWhDWVdJYXlQRmE5UEI5SmhlR1c2TldUZW4wSnNLQ3F5LWdMeGpEdkhoMDBiaXVueWxhWUpTTUNaQ2tuazVYVHZ5WXdRQXZCWUVvZ3FHdGZWUlJ3QVNBQSIsImFsZyI6IlJTMjU2IiwieDV0IjoieDQ3OHh5T3Bsc00xSDdOWGs3U3gxN3gxdXBjIiwia2lkIjoieDQ3OHh5T3Bsc00xSDdOWGs3U3gxN3gxdXBjIn0.eyJhdWQiOiJodHRwczovL2dyYXBoLm1pY3Jvc29mdC5jb20iLCJpc3MiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC9hMDkzNzU0Ni1mNmQ0LTQwZTAtYWEzMi1mN2MzN2M4MDFhNGYvIiwiaWF0IjoxNTEzNDUzOTY4LCJuYmYiOjE1MTM0NTM5NjgsImV4cCI6MTUxMzQ1Nzg2OCwiYWlvIjoiWTJOZ1lEaTd6dTZFL0dMMmh6bmYwdjF1TjIvUEF3QT0iLCJhcHBfZGlzcGxheW5hbWUiOiJMaWNlbnNlIFNoYXJlIiwiYXBwaWQiOiI1ZGU5OTU2My00ZWVjLTRjYzYtOTU5Yy04YWE0YTk3ZDBkNjkiLCJhcHBpZGFjciI6IjEiLCJpZHAiOiJodHRwczovL3N0cy53aW5kb3dzLm5ldC9hMDkzNzU0Ni1mNmQ0LTQwZTAtYWEzMi1mN2MzN2M4MDFhNGYvIiwidGlkIjoiYTA5Mzc1NDYtZjZkNC00MGUwLWFhMzItZjdjMzdjODAxYTRmIiwidXRpIjoiNkYxa1YwQ1Ria2VFZFZ0aHJvOFVBQSIsInZlciI6IjEuMCJ9.NYa5sX6FToi5PNNgzszyO3_eEXX1FDXchXqkrBexwC2-asvZ4Q_WaY4pDG2o83aBJhf8u6ssM2HhLqpV-MIy-6vRU0T9Br-HjyFIUTetpVUAB3TzcpnxaBEg62Ym1Kcgo9hC12pa15aQxhNYnU58jEEdLMGNpXF2j4FYAuMLlHmgkX9atPxAsMQUew2uoyVglCUEndJZuvVIwO5eLgZ1DKeKSkacWU7MtqtX0KpAZqlE3Mi4KtGI390GRaiXMewt16e4eqm0-mpqSiYo6FA8rNOeI6nIm7vDFeRJaHb-J59klIPtbkBzTsbVbmK3iICu0bOnZ6Q6-4xepxyNPsnrsw'
     }
     //},
     //data: {}
  }

  hp(req)
  .then(function successCallback(response) {

    alert(response);
    //callGraphApi2(response);

  }, function errorCallback(response){

  });


}]);

    </script>
	
	</body>
</html>